# PlotTrace â€” Chapterâ€‘Aware RAG for Books

An AI-powered reading companion that creates chapter-specific summaries and answers questions about your books using a Retrieval-Augmented Generation (RAG) workflow.

## âœ¨ Features
- Chapter-aware chunking for long-form books (PDF/EPUB/TXT).
- Vector-based retrieval to fetch the most relevant passages per query.
- Summarization that respects chapter boundaries and structure.
- Q&A over chapters, with citations to source chunks.
- Built initially as a Jupyter notebook for quick iteration; exported here as a Python script for GitHub.

## ğŸ“ Repository Structure
```text
â”œâ”€â”€ novel_plottrace.ipynb        # Original notebook
â”œâ”€â”€ plottrace_commented.py       # Cleaned, linearized script extracted from the notebook
â”œâ”€â”€ requirements.txt             # Python dependencies (heuristic)
â””â”€â”€ README.md                    # You are here
```

## âš™ï¸ Setup
```bash
python -m venv .venv && source .venv/bin/activate  # On Windows: .venv\Scripts\activate
pip install -r requirements.txt
```

If this project uses APIs (e.g., OpenAI), set environment variables as needed:
```bash
# Example:
export OPENAI_API_KEY=your_key_here
```

## ğŸš€ Quickstart
### Option A: Run the Notebook
1. Launch Jupyter and open `novel_plottrace.ipynb`.
2. Follow the cells top-to-bottom. Add your API keys as needed.

### Option B: Run the Python Script
```bash
python plottrace_commented.py
```
_Tip: Consider refactoring the script into modules (e.g., `ingest/`, `retrieval/`, `ui/`) if you plan to extend it._

## ğŸ§  How It Works (High Level)
1. **Ingest**: Load book files (PDF/EPUB/TXT), normalize text, and detect chapters.
2. **Chunk**: Split text into semantically meaningful chunks, keeping chapter boundaries in mind.
3. **Embed**: Generate vector embeddings for the chunks (e.g., sentence-transformers or OpenAI embeddings).
4. **Index**: Store embeddings in a vector index (e.g., FAISS) for fast similarity search.
5. **Retrieve**: For a query, fetch the top-k relevant chunks.
6. **Generate**: Feed retrieved chunks into an LLM to summarize or answer questions, with citations.

## ğŸ§ª Testing Tips
- Start with a short book or a few chapters to validate the pipeline.
- Verify chunk boundaries and ensure summaries are chapter-scoped.
- Compare different embedding models and values of `k` for retrieval quality.

## ğŸ“Œ Roadmap Ideas
- CLI with subcommands: `ingest`, `summarize`, `ask`
- Export chapter summaries to Markdown with citations
- Simple Streamlit/Gradio UI to browse chapters and ask questions
- Optional persistence: save embeddings/index to disk

## ğŸ™Œ Contributing
Issues and PRs are welcome! Please open an issue to discuss significant changes.

## ğŸ“ License
Choose a license (e.g., MIT) and add a `LICENSE` file.

---
_Autogenerated from `novel_plottrace.ipynb` on 2025-10-20 07:03:44_